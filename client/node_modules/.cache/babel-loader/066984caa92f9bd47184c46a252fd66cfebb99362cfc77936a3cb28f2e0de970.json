{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DeLL\\\\Dropbox\\\\My PC (DESKTOP-2P3I371)\\\\Desktop\\\\20ucs079\\\\client\\\\src\\\\pages\\\\Summary.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { Box, Typography, useTheme, useMediaQuery, Alert, Collapse, Card } from \"@mui/material\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  createWorker\n} = require(\"tesseract.js\");\nvar Jimp = require(\"jimp\");\nconst Summary = () => {\n  _s();\n  const theme = useTheme();\n  const isNotMobile = useMediaQuery(\"(min-width: 1000px)\");\n  const [error, setError] = useState(\"\");\n  const [ocrResult, setOcrResult] = useState(\"\");\n  useEffect(() => {\n    const performOCR = async imagePath => {\n      const worker = createWorker();\n      await worker.loadLanguage(\"ind\");\n      await worker.initialize(\"ind\");\n      await worker.setParameters({});\n      const image = await Jimp.read(imagePath);\n      image.rgba(false);\n      image.greyscale();\n      await image.write(\"edited_\" + imagePath);\n      const data = await worker.recognize(\"edited_\" + imagePath);\n      setOcrResult(data.data.text);\n      await worker.terminate();\n    };\n\n    // Perform OCR when component mounts\n    performOCR(\"/client/src/pages/ktp.jpeg\").catch(err => {\n      setError(err.message || \"An error occurred during OCR.\");\n      setTimeout(() => {\n        setError(\"\");\n      }, 5000);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Box, {\n    width: isNotMobile ? \"40%\" : \"80%\",\n    p: \"2rem\",\n    m: \"2rem auto\",\n    borderRadius: 5,\n    sx: {\n      boxShadow: 5\n    },\n    backgroundColor: theme.palette.background.default,\n    children: [/*#__PURE__*/_jsxDEV(Collapse, {\n      in: error,\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        sx: {\n          mb: 2\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      sx: {\n        mt: 4,\n        border: 1,\n        boxShadow: 0,\n        height: \"500px\",\n        borderRadius: 5,\n        borderColor: \"natural.medium\",\n        bgcolor: \"background.default\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        p: 2,\n        children: ocrResult || \"Extracted text will be displayed here\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n};\n_s(Summary, \"6x4BcWwLUt3gW6SW9ZxzOzBKV7I=\", false, function () {\n  return [useTheme, useMediaQuery];\n});\n_c = Summary;\nexport default Summary;\nvar _c;\n$RefreshReg$(_c, \"Summary\");","map":{"version":3,"names":["React","useState","useEffect","Box","Typography","useTheme","useMediaQuery","Alert","Collapse","Card","jsxDEV","_jsxDEV","createWorker","require","Jimp","Summary","_s","theme","isNotMobile","error","setError","ocrResult","setOcrResult","performOCR","imagePath","worker","loadLanguage","initialize","setParameters","image","read","rgba","greyscale","write","data","recognize","text","terminate","catch","err","message","setTimeout","width","p","m","borderRadius","sx","boxShadow","backgroundColor","palette","background","default","children","in","severity","mb","fileName","_jsxFileName","lineNumber","columnNumber","mt","border","height","borderColor","bgcolor","_c","$RefreshReg$"],"sources":["C:/Users/DeLL/Dropbox/My PC (DESKTOP-2P3I371)/Desktop/20ucs079/client/src/pages/Summary.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Box, Typography, useTheme, useMediaQuery, Alert, Collapse, Card } from \"@mui/material\";\r\nconst { createWorker } = require(\"tesseract.js\");\r\nvar Jimp = require(\"jimp\");\r\n\r\nconst Summary = () => {\r\n  const theme = useTheme();\r\n  const isNotMobile = useMediaQuery(\"(min-width: 1000px)\");\r\n\r\n  const [error, setError] = useState(\"\");\r\n  const [ocrResult, setOcrResult] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const performOCR = async (imagePath) => {\r\n      const worker = createWorker();\r\n      await worker.loadLanguage(\"ind\");\r\n      await worker.initialize(\"ind\");\r\n      await worker.setParameters({});\r\n\r\n      const image = await Jimp.read(imagePath);\r\n      image.rgba(false);\r\n      image.greyscale();\r\n      await image.write(\"edited_\" + imagePath);\r\n\r\n      const data = await worker.recognize(\"edited_\" + imagePath);\r\n      setOcrResult(data.data.text);\r\n\r\n      await worker.terminate();\r\n    };\r\n\r\n    // Perform OCR when component mounts\r\n    performOCR(\"/client/src/pages/ktp.jpeg\").catch((err) => {\r\n      setError(err.message || \"An error occurred during OCR.\");\r\n      setTimeout(() => {\r\n        setError(\"\");\r\n      }, 5000);\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <Box\r\n      width={isNotMobile ? \"40%\" : \"80%\"}\r\n      p={\"2rem\"}\r\n      m={\"2rem auto\"}\r\n      borderRadius={5}\r\n      sx={{ boxShadow: 5 }}\r\n      backgroundColor={theme.palette.background.default}\r\n    >\r\n      <Collapse in={error}>\r\n        <Alert severity=\"error\" sx={{ mb: 2 }}>\r\n          {error}\r\n        </Alert>\r\n      </Collapse>\r\n\r\n      <Card sx={{ mt: 4, border: 1, boxShadow: 0, height: \"500px\", borderRadius: 5, borderColor: \"natural.medium\", bgcolor: \"background.default\" }}>\r\n        <Typography p={2}>\r\n          {ocrResult || \"Extracted text will be displayed here\"}\r\n        </Typography>\r\n      </Card>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Summary;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}